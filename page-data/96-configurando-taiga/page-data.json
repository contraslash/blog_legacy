{"componentChunkName":"component---src-templates-blog-post-js","path":"/96-configurando-taiga/","result":{"data":{"site":{"siteMetadata":{"title":"Blog de Contraslash (Legacy)"}},"markdownRemark":{"id":"a54824c6-898b-56be-ac1e-b1cd294a9a13","excerpt":"Configurando Taiga Taiga es un Software de Manejo de Proyectos desarrollado en Python y Django, de código abierto. La instalación oficial puede encontrarse aquí…","html":"<h1>Configurando Taiga</h1>\n<p>Taiga es un Software de Manejo de Proyectos desarrollado en Python y Django, de código abierto. La instalación oficial puede encontrarse <a href=\"http://taigaio.github.io/taiga-doc/dist/setup-production.html\">aquí</a></p>\n<h3>Requerimientos de Sistema Operativo</h3>\n<p>Requerimientos en el servidor web</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt-get install -y build-essential binutils-doc autoconf flex bison libjpeg-dev\nsudo apt-get install -y libfreetype6-dev zlib1g-dev libzmq3-dev libgdbm-dev libncurses5-dev\nsudo apt-get install -y automake libtool libffi-dev curl git tmux gettext\nsudo apt-get install libpq-dev</code></pre></div>\n<p>Requerimientos en el servidor de base de datos</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt-get install -y postgresql-9.3 postgresql-contrib-9.3\nsudo apt-get install -y postgresql-doc-9.3 postgresql-server-dev-9.3</code></pre></div>\n<p>Configuración de usuarios en la base de datos</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo -u postgres createuser taiga\nsudo -u postgres createdb taiga -O taiga</code></pre></div>\n<h3>Requerimientos de Python</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt-get install -y python3 python3-pip python-dev python3-dev python-pip virtualenvwrapper\nsudo apt-get install libxml2-dev libxslt-dev</code></pre></div>\n<p>Crear el ambiente virtual con Python 3.4</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">mkvirtualenv -p /usr/bin/python3.4 taiga</code></pre></div>\n<p>Descargue el proyecto taiga-back</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git clone https://github.com/taigaio/taiga-back.git taiga-back\ncd taiga-back\ngit checkout stable</code></pre></div>\n<p>Instalar las dependencias con pip</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">pip install -r requirements.txt</code></pre></div>\n<p>Copiar el archivo de configuracion local</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cp settings/local.py.example settings/local.py</code></pre></div>\n<p>Configurar la base de datos en settings/local.py</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">DATABASES = {\n    &#39;default&#39;: {\n        &#39;ENGINE&#39;: &#39;django.db.backends.postgresql&#39;,\n        &#39;NAME&#39;: &#39;taiga&#39;,\n        &#39;USER&#39;: &#39;taiga&#39;,\n        &#39;PASSWORD&#39;: &#39;Secret&#39;,\n        &#39;HOST&#39;: &#39;IP.DEL.SERVER.BD&#39;,\n        &#39;PORT&#39;: &#39;5432&#39;,\n    }\n}</code></pre></div>\n<blockquote>\n<p>Si se tienenen problemas con la conexión, se puede revisar este <a href=\"http://www.cyberciti.biz/tips/postgres-allow-remote-access-tcp-connection.html\">enlace </a></p>\n</blockquote>\n<p>Llenar la base de datos con la información inicial requerida</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">python manage.py migrate --noinput\npython manage.py loaddata initial_user\npython manage.py loaddata initial_project_templates\npython manage.py loaddata initial_role\npython manage.py compilemessages\npython manage.py collectstatic --noinput</code></pre></div>\n<p>Terminar la configuración del archivo local.py</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">from .common import *\n\nMEDIA_URL = &quot;http://example.com/media/&quot;\nSTATIC_URL = &quot;http://example.com/static/&quot;\nADMIN_MEDIA_PREFIX = &quot;http://example.com/static/admin/&quot;\nSITES[&quot;front&quot;][&quot;scheme&quot;] = &quot;http&quot;\nSITES[&quot;front&quot;][&quot;domain&quot;] = &quot;example.com&quot;\n\nSECRET_KEY = &quot;theveryultratopsecretkey&quot;\n\nDEBUG = False\nTEMPLATE_DEBUG = False\nPUBLIC_REGISTER_ENABLED = True\n\nDEFAULT_FROM_EMAIL = &quot;no-reply@example.com&quot;\nSERVER_EMAIL = DEFAULT_FROM_EMAIL</code></pre></div>\n<h3>Configuración de Apache</h3>\n<p>Creamos un nuevo ambiente virtual en /etc/apache2/sites-aviable/api.example.com\nCon el siguiente contenido</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;VirtualHost *:80&gt;\n    ServerName api.example.com\n    ServerAdmin ma0@contraslash.com\n\n    WSGIDaemonProcess apiprojects.contraslash.com processes=2 threads=15 display-name=%{GROUP} python-path=/ruta/a/taiga-back:/ruta/a/virtualenv/taiga/lib/python3.4/site-packages\n    WSGIProcessGroup example.com\n\n    WSGIScriptAlias / /ruta/a/taiga-back/taiga/wsgi.py\n\n    &lt;Directory /ruta/a/taiga-back&gt;\n        &lt;Files wsgi.py&gt;\n            Require all granted\n        &lt;/Files&gt;\n    &lt;/Directory&gt;\n\n    Alias /media/   /var/www/html/api.example.com/media/\n    Alias /static/  /var/www/html/api.example.com/static/\n\n    &lt;Directory /var/www/html/api.example.com/media&gt;\n        Options -Indexes\n        Require all granted\n    &lt;/Directory&gt;\n\n    &lt;Directory /var/www/html/api.example.com&gt;\n                Options -Indexes\n                Require all granted\n        &lt;/Directory&gt;\n    &lt;Location &quot;/media/&quot;&gt;\n        Options -Indexes\n    &lt;/Location&gt;\n\n\n    ErrorLog ${APACHE_LOG_DIR}/error.log\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\n\n&lt;/VirtualHost&gt;\n\n# vim: syntax=apache ts=4 sw=4 sts=4 sr noet</code></pre></div>\n<p>active el sitio con y recargue apache</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo a2ensite example.com\nsudo apache2 reload</code></pre></div>\n<p>Pruebe el sitio en example.com/api/v1/</p>\n<h3>Exponga el Front end</h3>\n<p>Descargue el sitio taiga-front</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git clone https://github.com/taigaio/taiga-front-dist.git taiga-front-dist\ncd taiga-front-dist\ngit checkout stable</code></pre></div>\n<p>Copiar el archivo de configuración</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cp dist/conf.example.json dist/conf.json</code></pre></div>\n<p>Modificar el archivo de configuración dist/conf.json</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{\n    &quot;api&quot;: &quot;http://api.example.com/api/v1/&quot;,\n    &quot;eventsUrl&quot;: &quot;ws://example.com/events&quot;,\n    &quot;debug&quot;: &quot;true&quot;,\n    &quot;publicRegisterEnabled&quot;: true,\n    &quot;feedbackEnabled&quot;: true,\n    &quot;privacyPolicyUrl&quot;: null,\n    &quot;termsOfServiceUrl&quot;: null,\n    &quot;maxUploadFileSize&quot;: null,\n    &quot;contribPlugins&quot;: []\n}</code></pre></div>\n<p>Exponga la carpeta dist para que sea alcanzable por su navegador web</p>\n<p>Cree el archivo /etc/apache2/sites-aviable/example.com\ncon el siguiente contenido</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;VirtualHost *:80&gt;\n\n    ServerName example.com\n    ServerAdmin webmaster@example.com\n    DocumentRoot /var/www/html/example.com/\n\n    &lt;Directory /var/www/html/example.com/&gt;\n        Options -Indexes +FollowSymLinks\n            AllowOverride All\n        Require all granted\n        &lt;/Directory&gt;\n\n\n\n    ErrorLog ${APACHE_LOG_DIR}/error.log\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\n\n&lt;/VirtualHost&gt;\n\n# vim: syntax=apache ts=4 sw=4 sts=4 sr noet</code></pre></div>\n<p>Asegúrese de tener el modulo rewrite activado</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo a2enmod rewrite\nsudo apache2 restart</code></pre></div>\n<p>Recargue la configuración de apache</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">service apache2 reload</code></pre></div>\n<p>Por último añada el archivo .htacces en su document_root</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;IfModule mod_rewrite.c&gt;    \n    RewriteEngine on\n    RewriteBase /\n        RewriteCond %{REQUEST_URI} !^/static(.*)\n        RewriteCond %{REQUEST_URI} !^/media(.*)\n        RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n        RewriteRule ^(.*)$ /index.html [L]\n&lt;/IfModule&gt;</code></pre></div>\n<h3>TrubleShooting</h3>\n<p>Para que Apache2 pueda ejecutar una aplicación de python3 debe tener instalado el siguiente paquete</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt-get install libapache2-mod-wsgi-py3</code></pre></div>\n<blockquote>\n<p>Tenga en cuenta que este paquete sobre escribe el móduglo <code class=\"language-text\">mod_wsgi</code> así que si tiene algunos otros sitios con python2 no es recomendable desplegar con este método</p>\n</blockquote>","frontmatter":{"title":"Configurando Taiga","date":"August 19, 2016","description":""}}},"pageContext":{"slug":"/96-configurando-taiga/","previous":{"fields":{"slug":"/95-ceo-y-sem/"},"frontmatter":{"title":"CEO y SEM"}},"next":{"fields":{"slug":"/97-innovation-of-you/"},"frontmatter":{"title":"Innovation of You"}}}}}