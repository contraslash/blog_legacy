{"componentChunkName":"component---src-templates-blog-post-js","path":"/108-creando-un-context-processor-para-tener-la-url-del/","result":{"data":{"site":{"siteMetadata":{"title":"Blog de Contraslash (Legacy)"}},"markdownRemark":{"id":"f6491b91-b601-54f2-89f1-347e1b298a4b","excerpt":"Creando un Context Processor para tener la url del sitio Tomado de aquí y claro, no olvidar añadir a miproyecto/settings.py","html":"<h1>Creando un Context Processor para tener la url del sitio</h1>\n<p>Tomado de <a href=\"http://stackoverflow.com/questions/1451138/how-can-i-get-the-domain-name-of-my-site-within-a-django-template\">aquí</a></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">from django.contrib.sites.shortcuts import get_current_site\nfrom django.utils.functional import SimpleLazyObject\n\ndef site(request):\n    site = SimpleLazyObject(lambda: get_current_site(request))\n    protocol = &#39;https&#39; if request.is_secure() else &#39;http&#39;\n\n    return {\n        &#39;site&#39;: site,\n        &#39;site_root&#39;: SimpleLazyObject(lambda: &quot;{0}://{1}&quot;.format(protocol, site.domain)),\n        &#39;full_url&#39;: SimpleLazyObject(lambda: &quot;{0}://{1}{2}&quot;.format(protocol, site.domain, request.path)),\n    }</code></pre></div>\n<p>y claro, no olvidar añadir a <em>miproyecto/settings.py</em></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">TEMPLATES = [\n    {\n        &#39;BACKEND&#39;: &#39;django.template.backends.django.DjangoTemplates&#39;,\n        &#39;DIRS&#39;: [os.path.join(BASE_DIR, &quot;templates&quot;)],\n        &#39;APP_DIRS&#39;: True,\n        &#39;OPTIONS&#39;: {\n            &#39;context_processors&#39;: [\n            ...\n            &#39;ruta.al.context_processors. site&#39;\n            ...\n            ],</code></pre></div>","frontmatter":{"title":"Creando un Context Processor para tener la url del sitio","date":"September 15, 2016","description":"Añadir un procesador de contexto que muestre la url actual del sitio"}}},"pageContext":{"slug":"/108-creando-un-context-processor-para-tener-la-url-del/","previous":{"fields":{"slug":"/105-habilitando-la-visualizacion-de-errores-en-disposi/"},"frontmatter":{"title":"Habilitando la visualización de errores en dispositivos Huawei"}},"next":{"fields":{"slug":"/109-usando-el-backend-de-cpanel-para-enviar-correos/"},"frontmatter":{"title":"Usando el Backend de Cpanel para enviar Correos"}}}}}