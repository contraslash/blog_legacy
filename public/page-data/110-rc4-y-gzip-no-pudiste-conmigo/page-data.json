{"componentChunkName":"component---src-templates-blog-post-js","path":"/110-rc4-y-gzip-no-pudiste-conmigo/","result":{"data":{"site":{"siteMetadata":{"title":"Blog de Contraslash (Legacy)"}},"markdownRemark":{"id":"919f2785-052f-507b-9c5d-9cf560d6fd69","excerpt":"RC4 y Gzip, no pudiste conmigo Existe código que es bello por su estética, su funcionalidad o simplemente por el valor sentimental que le agregamos. Este, por…","html":"<h1>RC4 y Gzip, no pudiste conmigo</h1>\n<p>Existe código que es bello por su estética, su funcionalidad o simplemente por el valor sentimental que le agregamos.</p>\n<p>Este, por ejemplo hoy tiene alto valor para mi, pues es el fruto del trabajo de un día, donde tuve que decompilar APKs, traducir código de smali a Java, entender el funcionamiento los streams y los buffers de nuevo y finalmente recurrir a una implementación sencilla en pythonde RC4 y GZip</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> os\n<span class=\"token keyword\">import</span> gzip\n\nencrypted_files_folder <span class=\"token operator\">=</span> <span class=\"token string\">'assets'</span>\ngzipped_files_folder <span class=\"token operator\">=</span> <span class=\"token string\">'ziped'</span>\ndecrypted_files_folder <span class=\"token operator\">=</span> <span class=\"token string\">'decrypted'</span>\nkey <span class=\"token operator\">=</span> <span class=\"token string\">'DD15740C-3AE4-4CD1-A117-3F7A990CC74A'</span>\n\n\nencrypted_files <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>listdir<span class=\"token punctuation\">(</span>encrypted_files_folder<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">for</span> f <span class=\"token keyword\">in</span> encrypted_files<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> f<span class=\"token punctuation\">.</span>endswith<span class=\"token punctuation\">(</span><span class=\"token string\">'.txt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        encrypted_file <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>encrypted_files_folder<span class=\"token punctuation\">,</span> f<span class=\"token punctuation\">)</span>\n        zipped_file <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>gzipped_files_folder<span class=\"token punctuation\">,</span> <span class=\"token string\">'%s.gz'</span><span class=\"token operator\">%</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        out<span class=\"token operator\">=</span><span class=\"token builtin\">file</span><span class=\"token punctuation\">(</span>zipped_file<span class=\"token punctuation\">,</span><span class=\"token string\">'wb'</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span> <span class=\"token punctuation\">(</span>encrypted_file<span class=\"token punctuation\">,</span> <span class=\"token string\">\"rb\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> ef<span class=\"token punctuation\">:</span>\n            data <span class=\"token operator\">=</span> ef<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            S <span class=\"token operator\">=</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">256</span><span class=\"token punctuation\">)</span>\n            j <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\n            <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">256</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            j <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>j <span class=\"token operator\">+</span> S<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token builtin\">ord</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">[</span>i <span class=\"token operator\">%</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">256</span>\n            S<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">,</span> S<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> S<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">,</span> S<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>\n\n            i <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n            j <span class=\"token operator\">=</span> <span class=\"token number\">0</span>      \n            <span class=\"token keyword\">for</span> char <span class=\"token keyword\">in</span> data<span class=\"token punctuation\">:</span>\n\n            i <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">256</span>\n            j <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span> j <span class=\"token operator\">+</span> S<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">256</span>\n            S<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">,</span> S<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> S<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">,</span> S<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>\n            out<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token builtin\">chr</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">ord</span><span class=\"token punctuation\">(</span>char<span class=\"token punctuation\">)</span> <span class=\"token operator\">^</span> S<span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span>S<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> S<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">256</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n        out<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">with</span> gzip<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>zipped_file<span class=\"token punctuation\">,</span> <span class=\"token string\">'rb'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> gzf<span class=\"token punctuation\">:</span>\n            decrypted_file <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>decrypted_files_folder<span class=\"token punctuation\">,</span> f<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>decrypted_file<span class=\"token punctuation\">,</span> <span class=\"token string\">'wb'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> o<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">for</span> l <span class=\"token keyword\">in</span> gzf<span class=\"token punctuation\">:</span>\n                o<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span>    </code></pre></div>\n<p>Todo esto para tener el texto de 26 cuentos de H. P. Lovecraft..</p>\n<p>Pronto en Open Speech Corpus</p>","frontmatter":{"title":"RC4 y Gzip, no pudiste conmigo","date":"October 01, 2016","description":"Desencriptando archivos con RC4 y GZip"}}},"pageContext":{"slug":"/110-rc4-y-gzip-no-pudiste-conmigo/","previous":{"fields":{"slug":"/109-usando-el-backend-de-cpanel-para-enviar-correos/"},"frontmatter":{"title":"Usando el Backend de Cpanel para enviar Correos"}},"next":{"fields":{"slug":"/111-disqus-y-django/"},"frontmatter":{"title":"Disqus y Django"}}}}}