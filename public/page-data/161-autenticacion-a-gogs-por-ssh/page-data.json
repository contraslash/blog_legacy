{"componentChunkName":"component---src-templates-blog-post-js","path":"/161-autenticacion-a-gogs-por-ssh/","result":{"data":{"site":{"siteMetadata":{"title":"Blog de Contraslash (Legacy)"}},"markdownRemark":{"id":"d20fde6e-52f0-559c-9311-0241404dc41c","excerpt":"Autenticación a Gogs por SSH Uno de los pasos mas importantes a la hora de realizar despliegue automático es que tu servidor pueda obtener los cambios en su…","html":"<h1>Autenticación a Gogs por SSH</h1>\n<p>Uno de los pasos mas importantes a la hora de realizar despliegue automático es que tu servidor pueda obtener los cambios en su rama respectiva sin necesidad de intervención humana, y por lo general nuestros repositorios son privados, de tal manera que autenticarse por SSH es una excelente opción.</p>\n<p>Como primera instancia, en el cliente que recibirá los cambios, en este caso servidor de staging/testing/production debemos generar una llave SSH, para eso utilizamos el siguiente comando</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ssh-keygen -t rsa -b 4096 -C &quot;mail@example.com&quot;</code></pre></div>\n<p>Aseguremonos de guardar las llaves en una ubicación que recordemos y que tenga un nombre apropiado. Por defecto se guardan en <code class=\"language-text\">~/.ssh/id_rsa</code></p>\n<p>Es importante que cuando nos pida la contraseña <code class=\"language-text\">paraphrase</code> lo dejemos vacío.</p>\n<p>En al ubicación que hayamos escogido, ahora veremos dos archivos</p>\n<ol>\n<li>{{nombre llave}}</li>\n<li>{{nombre llave}}.pub</li>\n</ol>\n<p>Copiaremos el contenido del archivo <code class=\"language-text\">&lt;nombre llave&gt;.pub</code> y lo pegaremos en Gogs en la siguiente ubicación:</p>\n<p>Your Settings -> SSH Keys -> Add Key</p>\n<p>En este formulario podremos colocarle un título a nuestra llave y podremos pegar el contenido.</p>\n<p>A continuación habilitaremos la llave en nuestro servidor local con el comando</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ssh-add {{nombre llave}}</code></pre></div>\n<blockquote>\n<p>Si tenemos un problema de tipo </p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Could not open a connection to your authentication agent.</code></pre></div>\n<p>  Debemos ejecutar el siguiente comando habilitar el agente ssh</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">eval `ssh-agent -s`</code></pre></div>\n<p>A continuación editaremos el archivo <em>~/.ssh/config</em> y añadiremos algo similar a esto</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Host {{alias del sitio}} {{host del sitio}}\n    HostName {{host del sitio}}\n    IdentityFile {{ubicacion de la llave}}/{{nombre llave}}\n    User {{usuario gogs}}</code></pre></div>\n<p>Les presento un ejemplo mas claro</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Host gogs_server gogs.example.com\n    HostName gogs.example.com\n    IdentityFile ~/.ssh/id_rsa\n    User admin</code></pre></div>\n<p>A continuación podremos clonar nuestro nuestro repositorio utilizando la dirección SSH, que debería verse similar a esto</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git@gogs.example.com:admin/repo.git</code></pre></div>\n<p>Y de esta manera ya podremos ejecutar operaciones de git autenticandonos con el usuario que hemos definido.</p>","frontmatter":{"title":"Autenticación a Gogs por SSH","date":"March 17, 2017","description":"Guía corta para la autenticación por llaves SSH a un servidor Gogs"}}},"pageContext":{"slug":"/161-autenticacion-a-gogs-por-ssh/","previous":{"fields":{"slug":"/160-mi-startup-necesita-marketing-desde-el-inicio/"},"frontmatter":{"title":"¿Mi startup necesita marketing desde el inicio?"}},"next":{"fields":{"slug":"/162-okr/"},"frontmatter":{"title":"OKR"}}}}}