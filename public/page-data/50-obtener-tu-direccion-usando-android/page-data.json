{"componentChunkName":"component---src-templates-blog-post-js","path":"/50-obtener-tu-direccion-usando-android/","result":{"data":{"site":{"siteMetadata":{"title":"Blog de Contraslash (Legacy)"}},"markdownRemark":{"id":"3371a467-799f-57a9-a9e1-7fde6f7dd535","excerpt":"Obtener tu dirección usando Android","html":"<h1>Obtener tu dirección usando Android</h1>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">/**\n     * Clase que usa el GeoCoder para obtener la dirección actual\n     */\n    private class GetDireccion extends AsyncTask&lt;LatLng, Void, String&gt; {\n        Context mContext;\n        String idedit;\n        public GetDireccion(Context context, String id) {\n            super();\n            Log.i(TAG,&quot;Creando el AsyncTask GetDireccion&quot;);\n            mContext = context;\n            idedit=id;\n        }\n\n        /**\n         * Gestor de obtención dedirección\n         */\n        @Override\n        protected String doInBackground(LatLng... params) {\n            Geocoder geocoder =\n                    new Geocoder(mContext, Locale.getDefault());\n            if(params[0]==null)\n                return &quot;&quot;;\n            LatLng loc = params[0];\n            List&lt;Address&gt; addresses = null;\n            try {\n                /*\n                 * Return 1 address.\n                 */\n                Log.i(TAG,&quot;Intentando obtener la dirección del punto: &quot;+loc.latitude+&quot;,&quot;+loc.longitude);\n                addresses = geocoder.getFromLocation(loc.latitude,\n                        loc.longitude, 1);\n            } catch (IOException e1) {\n                Log.e(TAG,\n                        &quot;IO Exception in getFromLocation()&quot;);\n                //Toast.makeText(getActivity(),&quot;Imposible obtener su ubicación, verifique el GPS esté activado&quot;,Toast.LENGTH_LONG).show();\n                e1.printStackTrace();\n                return &quot;&quot;;\n            } catch (IllegalArgumentException e2)\n            {\n                String errorString = &quot;Illegal arguments &quot; +\n                        Double.toString(loc.latitude) +\n                        &quot; , &quot; +\n                        Double.toString(loc.longitude) +\n                        &quot; passed to address service&quot;;\n                Log.e(TAG, errorString);\n                e2.printStackTrace();\n                return &quot;&quot;;\n            }\n            if (addresses != null &amp;&amp; addresses.size() &gt; 0) {\n                Address address = addresses.get(0);\n                String addressText = address.getMaxAddressLineIndex() &gt; 0 ?\n                                address.getAddressLine(0) : &quot;&quot;;\n                StringTokenizer st=new StringTokenizer(addressText);\n                String simplifyDir=&quot;&quot;;\n                while(st.hasMoreTokens())\n                {\n                    String a=st.nextToken();\n                    if(a.compareTo(&quot;a&quot;)==0)\n                    {\n                        break;\n                    }\n                    else\n                    {\n                        simplifyDir+=a+&quot; &quot;;\n                    }\n                }\n                return simplifyDir;\n            } else {\n                return &quot;No encontramos la direccion&quot;;\n            }\n        }\n\n        /**\n         * Método para mostrar la dirección en la interfaz gráfica\n         */\n        @Override\n        protected void onPostExecute(String address) {\n\n        }\n    }</code></pre></div>","frontmatter":{"title":"Obtener tu dirección usando Android","date":"January 29, 2016","description":""}}},"pageContext":{"slug":"/50-obtener-tu-direccion-usando-android/","previous":{"fields":{"slug":"/55-autenticar-openssh-sin-contrasena/"},"frontmatter":{"title":"Autenticar OpenSSH sin contraseña"}},"next":{"fields":{"slug":"/47-a-proposito-de-errores-de-novatos-con-apache-y-dja/"},"frontmatter":{"title":"A propósito de errores de novatos con Apache y Django"}}}}}