{"componentChunkName":"component---src-templates-blog-post-js","path":"/59-un-tutorial-de-ansible/","result":{"data":{"site":{"siteMetadata":{"title":"Blog de Contraslash (Legacy)"}},"markdownRemark":{"id":"8bc3fe3d-94ba-53a0-ba25-682da35b964e","excerpt":"Un tutorial de Ansible Basado en este post Ansible es una herramienta de configuración automática de servidores Agent Free que funciona sobre SSH Considero que…","html":"<h1>Un tutorial de Ansible</h1>\n<blockquote>\n<p>Basado en <a href=\"https://serversforhackers.com/an-ansible-tutorial\">este post</a></p>\n</blockquote>\n<blockquote>\n<p>Ansible es una herramienta de configuración automática de servidores Agent Free que funciona sobre SSH</p>\n</blockquote>\n<p>Considero que el principal atractivo de <a href=\"http://www.ansible.com/\">Ansible</a> es Agent Free, que quiero decir con esto: que no necesito instalar ruby y un cliente en el servidor que quiero aprovisionar antes de aprovisionar, como con <a href=\"https://www.chef.io/\">Chef</a> o <a href=\"https://puppetlabs.com/\">Puppet</a>, en lugar de eso, solo necesita un python 2.6+ y un servidor ssh, lo que viene casi que por defecto instalado en las imágenes predeterminadas que nos ofrecen nuestros IaaS favoritos.</p>\n<h3>Instalando Ansible</h3>\n<h6>Ubuntu</h6>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt-add-repository -y ppa:ansible/ansible\nsudo apt-get update\nsudo apt-get install -y ansible</code></pre></div>\n<h6>Mac</h6>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">pip install ansible</code></pre></div>\n<h3>Host</h3>\n<p>Aclaremos algo: esto del aprovisionamiento automático solo es divertido cuando son muchos equipos, o no?</p>\n<p>Nuestro archivo de configuración de host estará compuesto por una lista de ips o nombres de dominio identificables  por nuestra máquina (1 por línea), que de ahora en adelante llamaremos maestro.</p>\n<p>Podemos crear grupos de hosts colocando líneas que indiquen el nombre del grupo</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">mail.example.com\n\n[webservers]\nfoo.example.com\nbar.example.com\n\n[dbservers]\none.example.com\ntwo.example.com\nthree.example.com\n``` [aprende mas de Inventories](http://docs.ansible.com/ansible/intro_inventory.html)\n\n###Comandos AdHoc\nComo cualquier herramienta medianamente decente, tenemos nuestro API por consola.\n\nPrueba estos comandos</code></pre></div>\n<p>ansible all -m shell -a “ifconfig”\nansible all -m ping\nansible webservers -s -m apt -a “pkg=apache2 state=installed update_cache=true”</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&gt;El primer parametro especifica el grupo\n\n&gt;-m Especifica el módulo [módulos](http://docs.ansible.com/ansible/list_of_all_modules.html)\n\n&gt;-s Los comando se ejecutan como superusuario\n\n&gt;-k Pide la contraseña \n\n&gt;-i Especifica un archivo de host\n\n&gt;--private-key Especifica el archivo con la llave publica para la conexión\n\n&gt;-a Argumentos para el módulo</code></pre></div>","frontmatter":{"title":"Un tutorial de Ansible","date":"January 29, 2016","description":""}}},"pageContext":{"slug":"/59-un-tutorial-de-ansible/","previous":{"fields":{"slug":"/62-content-security-policy-en-ios/"},"frontmatter":{"title":"Content Security Policy en iOS con ionic"}},"next":{"fields":{"slug":"/57-obtener-la-direccion-ip-de-un-cliente/"},"frontmatter":{"title":"Obtener la dirección IP de un cliente"}}}}}